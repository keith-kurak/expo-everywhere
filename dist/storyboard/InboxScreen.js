var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _vectorIcons=require("@expo/vector-icons");var _inbox=_interopRequireDefault(require("../components/inbox"));var _instances=require("../stores/instances");var _jsxFileName="/Users/keith/Documents/GitHub/expo-everywhere/app/storyboard/InboxScreen.js";function InboxScreen(_ref){var navigation=_ref.navigation;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2.default)(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=(0,_slicedToArray2.default)(_useState3,2),inboxItems=_useState4[0],setInboxItems=_useState4[1];var onRefresh=(0,_react.useCallback)(function(){function onRefreshAsync(){var newInboxItems;return _regenerator.default.async(function onRefreshAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return _regenerator.default.awrap(_instances.messageRepository.getInboxItems());case 3:newInboxItems=_context.sent;setInboxItems(newInboxItems);setIsLoading(false);case 6:case"end":return _context.stop();}}},null,null,null,Promise);}onRefreshAsync();},[]);(0,_react.useEffect)(onRefresh,[]);return _react.default.createElement(_reactNative.View,{style:{flex:1},__source:{fileName:_jsxFileName,lineNumber:26,columnNumber:5}},_react.default.createElement(_inbox.default,{messages:inboxItems,isLoading:isLoading,onRefresh:onRefresh,onPressMessage:function onPressMessage(id){return navigation.navigate('Chat',{messageId:id});},__source:{fileName:_jsxFileName,lineNumber:27,columnNumber:7}}));}var _default=InboxScreen;exports.default=_default;