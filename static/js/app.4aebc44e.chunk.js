(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{420:function(e,t,n){"use strict";n.d(t,"a",(function(){return Re}));var r=n(381),a=n(0),s=n.n(a),o=n(2),i=n(379),c=n(610),u=n(611),l=n(608),d=n(609),f=n(18),m=n.n(f),j=n(14),p=n.n(j),g=n(7),h=n.n(g),y=n(9),b=n.n(y),v=n(10),x=n.n(v),k=n(11),E=n.n(k),w=n(5),S=n.n(w),z=n(136),C=n(6),O=n(135),T=n(34),R=n(46),B=n(100),I=n(419),L=n(1),D=n.n(L),N=n(402),F=function(e){var t=e.diameter,n=e.name,r=(n.charCodeAt(0)-65)%19;return s.a.createElement(N.a,{size:t,color:"white",backgroundColor:["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"][r],single:!1,text:n})};F.propTypes={diameter:D.a.number.isRequired,name:D.a.string.isRequired};var M=F,P=n(3),W=function(){return s.a.createElement(o.a,{style:_.itemSeparator})},_=P.a.create({itemSeparator:{borderBottomColor:"#CFCFCF",borderBottomWidth:P.a.hairlineWidth}}),H=n(134),A=function(e){var t=e.isLoading,n=e.children,r=e.style;return s.a.createElement(o.a,{style:[{flex:1},r]},t?s.a.createElement(H.a,{size:"large",style:{flex:1,backgroundColor:"transparent"}}):null,!t&&n)};A.propTypes={children:D.a.any,isLoading:D.a.bool,style:D.a.any},A.defaultProps={isLoading:!1,children:null,style:null};var Y=A,U=n(13),q="#FFFFFF",G="#F8FBFD",J="gray",V="#d3d3d3",K=7,Q=P.a.create({table:{backgroundColor:G,flex:1},noItemsMessage:{paddingTop:50,flex:1,alignItems:"center",justifyContent:"space-between",flexDirection:"column",paddingLeft:40,paddingRight:40},noItemsMessageText:{color:J,textAlign:"center"},sectionHeader:{backgroundColor:(C.a.OS,G),paddingTop:"ios"===C.a.OS?10:15,paddingBottom:(C.a.OS,5),paddingLeft:K},sectionHeaderText:{color:J,fontWeight:"ios"===C.a.OS?"normal":"400"},emptySectionHeader:{backgroundColor:G,paddingTop:15},itemSeparator:{borderBottomColor:V,borderBottomWidth:P.a.hairlineWidth}}),X=function(e){var t=e.title,n=e.style;return s.a.createElement(o.a,{style:[t.length?Q.sectionHeader:Q.emptySectionHeader,n]},t.length?s.a.createElement(U.a,{style:Q.sectionHeaderText},t):s.a.createElement(o.a,null))};X.propTypes={title:D.a.string,style:D.a.any},X.defaultProps={style:null,title:""};var Z=X;function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E()(this,n)}}var ee=function(e){x()(n,e);var t=$(n);function n(){var e;h()(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a)))._onSendMessage=function(t){e.props.onSendMessage(t[0].text)},e}return b()(n,[{key:"render",value:function(){var e=this.props.messages,t=Object(B.sortBy)(e,(function(e){return e.date})).reverse().map((function(e){return{_id:e.id,text:e.text,createdAt:e.date,user:{_id:e.userType,name:e.user}}})),n=s.a.createElement(z.a,{style:{flex:1}},s.a.createElement(I.a,{messages:t,onSend:this._onSendMessage,user:{_id:"you"},bottomOffset:Object(R.a)(),renderLoading:function(){return s.a.createElement(Y,{isLoading:!0})}}));return"android"===C.a.OS?s.a.createElement(O.a,{style:{flex:1},behavior:"padding",keyboardVerticalOffset:T.a.currentHeight+56},n):n}}]),n}(a.Component),te=n(174),ne=n.n(te),re=n(403),ae=n.n(re),se=n(404),oe=n.n(se),ie=ne.a.create({baseURL:"http://localhost:8080"}),ce=new ae.a(ie,{delayResponse:750}),ue=function(){return oe()({count:2,units:"sentences",sentenceLowerBound:4,sentenceUpperBound:14,paragraphLowerBound:1,paragraphUpperBound:1})},le=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},de=function(){var e=new Date;return new Date(le(e.getTime()-5e8,e.getTime()))},fe=function(){var e=[];return e.push({id:0,text:ue(),user:"Anne Teak",date:de(),isNew:!1}),e.push({id:1,text:ue(),user:"Chuck Waggon",date:de(),isNew:!0}),e.push({id:2,text:ue(),user:"Dan Druff",date:de(),isNew:!1}),e.push({id:3,text:ue(),user:"Helena Beat",date:de(),isNew:!0}),e.push({id:4,text:ue(),user:"Farris Wheeler",date:de(),isNew:!1}),e.push({id:5,text:ue(),user:"Liv Long",date:de(),isNew:!1}),e};ce.onGet("/inbox").reply((function(){return[200,fe()]})),ce.onGet(/\/messages\/\d+/).reply((function(e){for(var t=e.url.split("/")[2],n=fe().find((function(e){return e.id==t})),r=[],a=0;a<20;a++)1===le(1,2)?r.push({id:a,userType:"you",text:ue(),date:de(),user:"Your Name"}):r.push({id:a,userType:"otherPerson",text:ue(),date:de(),user:n.user});return[200,r]}));var me=new function e(t){var n=this;h()(this,e),this.getInboxItems=function(){return n._api.get("/inbox").then((function(e){return e.data}))},this.getMessages=function(e){return n._api.get("/messages/"+e).then((function(e){return e.data}))},this._api=t}(ie);var je=function(e){e.navigation;var t=e.route,n=Object(a.useState)(!1),r=p()(n,2),i=r[0],c=r[1],u=Object(a.useState)([]),l=p()(u,2),d=l[0],f=l[1],j=Object(a.useCallback)((function(){!function(){var e;m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.next=3,m.a.awrap(me.getMessages(t.params.messageId));case 3:e=n.sent,f(e),c(!1);case 6:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]);return Object(a.useEffect)(j,[]),s.a.createElement(o.a,{style:{flex:1}},s.a.createElement(Y,{isLoading:i},s.a.createElement(ee,{messages:d,onSendMessage:function(e){var t=d.slice();t.push({id:d.length,userType:"you",text:e,date:new Date,user:"Your Name"}),f(t)}})))},pe=n(421),ge=n(28),he=n(4),ye=n.n(he),be=P.a.create({cell:{paddingTop:K,paddingBottom:K,paddingLeft:K,paddingRight:K,flexDirection:"row",justifyContent:"flex-start"},thumbnail:{paddingRight:K},right:{flex:1},topRight:{flexDirection:"row",flex:1,justifyContent:"space-between"},usernameText:{fontSize:17,fontWeight:"bold",marginBottom:3},dateText:{fontStyle:"italic",fontSize:12,color:J}}),ve=function(e){var t=ye()(),n=ye()(e);return n.isSame(t,"d")?n.format("h:mmA"):n.format("M/D/YYYY")},xe=function(e){var t=e.message,n=e.onPress;return s.a.createElement(ge.a,{onPress:function(){return n(t.id)}},s.a.createElement(o.a,{style:be.cell},s.a.createElement(o.a,{style:be.thumbnail},s.a.createElement(M,{diameter:50,name:t.user})),s.a.createElement(o.a,{style:be.right},s.a.createElement(o.a,{style:be.topRight},s.a.createElement(U.a,{style:be.usernameText},t.user),s.a.createElement(U.a,{style:be.dateText},ve(t.date))),s.a.createElement(U.a,null,t.text))))},ke=function(e){var t=e.messages,n=e.onPressMessage,r=e.isLoading,a=e.onRefresh,o=[];(console.log(t),0!==t.length)&&(o=[{title:"New Items",data:Object(B.sortBy)(t.filter((function(e){return e.isNew})),(function(e){return e.date})).reverse()},{title:"Not-so-new Items",data:Object(B.sortBy)(t.filter((function(e){return!e.isNew})),(function(e){return e.date})).reverse()}]);return s.a.createElement(pe.a,{style:{backgroundColor:q},renderSectionHeader:function(e){var t=e.section.title;return s.a.createElement(Z,{title:t})},sections:o,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return s.a.createElement(xe,{message:t,onPress:n})},ItemSeparatorComponent:W,onRefresh:a,refreshing:r})};var Ee=function(e){var t=e.navigation,n=Object(a.useState)(!1),r=p()(n,2),i=r[0],c=r[1],u=Object(a.useState)([]),l=p()(u,2),d=l[0],f=l[1],j=Object(a.useCallback)((function(){!function(){var e;m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,m.a.awrap(me.getInboxItems());case 3:e=t.sent,f(e),c(!1);case 6:case"end":return t.stop()}}),null,null,null,Promise)}()}),[]);return Object(a.useEffect)(j,[]),s.a.createElement(o.a,{style:{flex:1}},s.a.createElement(ke,{messages:d,isLoading:i,onRefresh:j,onPressMessage:function(e){return t.navigate("Chat",{messageId:e})}}))};function we(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E()(this,n)}}var Se=function(e){x()(n,e);var t=we(n);function n(){return h()(this,n),t.apply(this,arguments)}return b()(n,[{key:"render",value:function(){return s.a.createElement(o.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},s.a.createElement(U.a,null,"A settings screen!"))}}]),n}(a.Component),ze=Object(c.a)(),Ce=Object(u.a)(),Oe=function(){return a.createElement(Ce.Navigator,null,a.createElement(Ce.Screen,{name:"Inbox",component:Ee,options:{tabBarIcon:function(e){var t=e.color;return a.createElement(l.a,{name:"md-settings",size:32,color:t})}}}),a.createElement(Ce.Screen,{name:"Settings",component:Se,options:{tabBarIcon:function(e){var t=e.color;return a.createElement(d.a,{name:"inbox",size:32,color:t})}}}))};function Te(){return a.createElement(i.a,null,a.createElement(ze.Navigator,null,a.createElement(ze.Screen,{name:"MainTabs",component:Oe,options:{title:"Inbox"}}),a.createElement(ze.Screen,{name:"Chat",title:"Chat",options:{title:"Chat"},component:je})))}function Re(){return s.a.createElement(o.a,{style:{flex:1}},s.a.createElement(Te,null),s.a.createElement(r.StatusBar,{style:"auto"}))}},428:function(e,t,n){n(429),e.exports=n(595)},429:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-gh-pages/expo-service-worker.js",{scope:"/expo-gh-pages/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},479:function(e,t,n){var r={"./af":206,"./af.js":206,"./ar":207,"./ar-dz":208,"./ar-dz.js":208,"./ar-kw":209,"./ar-kw.js":209,"./ar-ly":210,"./ar-ly.js":210,"./ar-ma":211,"./ar-ma.js":211,"./ar-sa":212,"./ar-sa.js":212,"./ar-tn":213,"./ar-tn.js":213,"./ar.js":207,"./az":214,"./az.js":214,"./be":215,"./be.js":215,"./bg":216,"./bg.js":216,"./bm":217,"./bm.js":217,"./bn":218,"./bn.js":218,"./bo":219,"./bo.js":219,"./br":220,"./br.js":220,"./bs":221,"./bs.js":221,"./ca":222,"./ca.js":222,"./cs":223,"./cs.js":223,"./cv":224,"./cv.js":224,"./cy":225,"./cy.js":225,"./da":226,"./da.js":226,"./de":227,"./de-at":228,"./de-at.js":228,"./de-ch":229,"./de-ch.js":229,"./de.js":227,"./dv":230,"./dv.js":230,"./el":231,"./el.js":231,"./en-au":232,"./en-au.js":232,"./en-ca":233,"./en-ca.js":233,"./en-gb":234,"./en-gb.js":234,"./en-ie":235,"./en-ie.js":235,"./en-il":236,"./en-il.js":236,"./en-in":237,"./en-in.js":237,"./en-nz":238,"./en-nz.js":238,"./en-sg":239,"./en-sg.js":239,"./eo":240,"./eo.js":240,"./es":241,"./es-do":242,"./es-do.js":242,"./es-us":243,"./es-us.js":243,"./es.js":241,"./et":244,"./et.js":244,"./eu":245,"./eu.js":245,"./fa":246,"./fa.js":246,"./fi":247,"./fi.js":247,"./fil":248,"./fil.js":248,"./fo":249,"./fo.js":249,"./fr":250,"./fr-ca":251,"./fr-ca.js":251,"./fr-ch":252,"./fr-ch.js":252,"./fr.js":250,"./fy":253,"./fy.js":253,"./ga":254,"./ga.js":254,"./gd":255,"./gd.js":255,"./gl":256,"./gl.js":256,"./gom-deva":257,"./gom-deva.js":257,"./gom-latn":258,"./gom-latn.js":258,"./gu":259,"./gu.js":259,"./he":260,"./he.js":260,"./hi":261,"./hi.js":261,"./hr":262,"./hr.js":262,"./hu":263,"./hu.js":263,"./hy-am":264,"./hy-am.js":264,"./id":265,"./id.js":265,"./is":266,"./is.js":266,"./it":267,"./it-ch":268,"./it-ch.js":268,"./it.js":267,"./ja":269,"./ja.js":269,"./jv":270,"./jv.js":270,"./ka":271,"./ka.js":271,"./kk":272,"./kk.js":272,"./km":273,"./km.js":273,"./kn":274,"./kn.js":274,"./ko":275,"./ko.js":275,"./ku":276,"./ku.js":276,"./ky":277,"./ky.js":277,"./lb":278,"./lb.js":278,"./lo":279,"./lo.js":279,"./lt":280,"./lt.js":280,"./lv":281,"./lv.js":281,"./me":282,"./me.js":282,"./mi":283,"./mi.js":283,"./mk":284,"./mk.js":284,"./ml":285,"./ml.js":285,"./mn":286,"./mn.js":286,"./mr":287,"./mr.js":287,"./ms":288,"./ms-my":289,"./ms-my.js":289,"./ms.js":288,"./mt":290,"./mt.js":290,"./my":291,"./my.js":291,"./nb":292,"./nb.js":292,"./ne":293,"./ne.js":293,"./nl":294,"./nl-be":295,"./nl-be.js":295,"./nl.js":294,"./nn":296,"./nn.js":296,"./oc-lnc":297,"./oc-lnc.js":297,"./pa-in":298,"./pa-in.js":298,"./pl":299,"./pl.js":299,"./pt":300,"./pt-br":301,"./pt-br.js":301,"./pt.js":300,"./ro":302,"./ro.js":302,"./ru":303,"./ru.js":303,"./sd":304,"./sd.js":304,"./se":305,"./se.js":305,"./si":306,"./si.js":306,"./sk":307,"./sk.js":307,"./sl":308,"./sl.js":308,"./sq":309,"./sq.js":309,"./sr":310,"./sr-cyrl":311,"./sr-cyrl.js":311,"./sr.js":310,"./ss":312,"./ss.js":312,"./sv":313,"./sv.js":313,"./sw":314,"./sw.js":314,"./ta":315,"./ta.js":315,"./te":316,"./te.js":316,"./tet":317,"./tet.js":317,"./tg":318,"./tg.js":318,"./th":319,"./th.js":319,"./tk":320,"./tk.js":320,"./tl-ph":321,"./tl-ph.js":321,"./tlh":322,"./tlh.js":322,"./tr":323,"./tr.js":323,"./tzl":324,"./tzl.js":324,"./tzm":325,"./tzm-latn":326,"./tzm-latn.js":326,"./tzm.js":325,"./ug-cn":327,"./ug-cn.js":327,"./uk":328,"./uk.js":328,"./ur":329,"./ur.js":329,"./uz":330,"./uz-latn":331,"./uz-latn.js":331,"./uz.js":330,"./vi":332,"./vi.js":332,"./x-pseudo":333,"./x-pseudo.js":333,"./yo":334,"./yo.js":334,"./zh-cn":335,"./zh-cn.js":335,"./zh-hk":336,"./zh-hk.js":336,"./zh-mo":337,"./zh-mo.js":337,"./zh-tw":338,"./zh-tw.js":338};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=479}},[[428,1,2]]]);
//# sourceMappingURL=app.4aebc44e.chunk.js.map